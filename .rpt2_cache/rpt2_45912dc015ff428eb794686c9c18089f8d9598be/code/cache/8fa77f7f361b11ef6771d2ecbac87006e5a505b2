{"map":"{\"version\":3,\"file\":\"headers.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../src/tools/headers.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,SAAS,EAAE,aAAa,EAAE,MAAM,QAAQ,CAAA;AAIjD,SAAS,mBAAmB,CAAC,OAAY,EAAE,cAAsB;IAC/D,IAAI,CAAC,OAAO;QAAE,OAAM;IACpB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAA,IAAI;QAC/B,IAAI,IAAI,KAAK,cAAc,IAAI,IAAI,CAAC,WAAW,EAAE,KAAK,cAAc,CAAC,WAAW,EAAE,EAAE;YAClF,OAAO,CAAC,cAAc,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;YACvC,OAAO,OAAO,CAAC,IAAI,CAAC,CAAA;SACrB;IACH,CAAC,CAAC,CAAA;AACJ,CAAC;AAED,MAAM,UAAU,cAAc,CAAC,OAAY,EAAE,IAAS;IACpD,WAAW;IACX,mBAAmB,CAAC,OAAO,EAAE,cAAc,CAAC,CAAA;IAC5C,IAAI,aAAa,CAAC,IAAI,CAAC,EAAE;QACvB,IAAI,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE;YACvC,OAAO,CAAC,cAAc,CAAC,GAAG,gCAAgC,CAAA;SAC3D;KACF;IACD,OAAO,OAAO,CAAA;AAChB,CAAC;AAED,MAAM,UAAU,YAAY,CAAC,OAAe;IAC1C,eAAe;IACf,IAAI,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAA;IAChC,IAAI,CAAC,OAAO;QAAE,OAAO,MAAM,CAAA;IAC3B,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAC,IAAI;QAC7B,IAAA,KAAa,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAA3B,GAAG,QAAA,EAAE,GAAG,QAAmB,CAAA;QAChC,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAA;QAC9B,IAAI,CAAC,GAAG;YAAE,OAAM;QAChB,IAAI,GAAG,EAAE;YACP,GAAG,GAAG,GAAG,CAAC,IAAI,EAAE,CAAA;SACjB;QACD,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAA;IACnB,CAAC,CAAC,CAAA;IACF,OAAO,MAAM,CAAA;AACf,CAAC;AAED,MAAM,UAAU,cAAc,CAAC,OAAY,EAAE,MAAc;IACzD,IAAI,CAAC,OAAO;QAAE,OAAO,OAAO,CAAA;IAC5B,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAA;IAC7D,IAAM,eAAe,GAAG,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAA;IAC9F,eAAe,CAAC,OAAO,CAAC,UAAA,MAAM;QAC5B,OAAO,OAAO,CAAC,MAAM,CAAC,CAAA;IACxB,CAAC,CAAC,CAAA;IACF,OAAO,OAAO,CAAA;AAChB,CAAC\"}","code":"import { deepMerge, isPlainObject } from './util';\r\nfunction normalizeHeaderName(headers, normalizedName) {\r\n    if (!headers)\r\n        return;\r\n    Object.keys(headers).forEach(function (name) {\r\n        if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\r\n            headers[normalizedName] = headers[name];\r\n            delete headers[name];\r\n        }\r\n    });\r\n}\r\nexport function processHeaders(headers, data) {\r\n    /*头部信息规范化*/\r\n    normalizeHeaderName(headers, 'Content-Type');\r\n    if (isPlainObject(data)) {\r\n        if (headers && !headers['Content-Type']) {\r\n            headers['Content-Type'] = 'application/json;charset=utf-8';\r\n        }\r\n    }\r\n    return headers;\r\n}\r\nexport function parseHeaders(headers) {\r\n    /*解析头部字符串类型数据*/\r\n    var parsed = Object.create(null);\r\n    if (!headers)\r\n        return parsed;\r\n    headers.split('\\r\\n').forEach(function (line) {\r\n        var _a = line.split(':'), key = _a[0], val = _a[1];\r\n        key = key.trim().toLowerCase();\r\n        if (!key)\r\n            return;\r\n        if (val) {\r\n            val = val.trim();\r\n        }\r\n        parsed[key] = val;\r\n    });\r\n    return parsed;\r\n}\r\nexport function flattenHeaders(headers, method) {\r\n    if (!headers)\r\n        return headers;\r\n    headers = deepMerge(headers.common, headers[method], headers);\r\n    var methodsToDelete = ['delete', 'get', 'head', 'options', 'post', 'put', 'patch', 'common'];\r\n    methodsToDelete.forEach(function (method) {\r\n        delete headers[method];\r\n    });\r\n    return headers;\r\n}\r\n//# sourceMappingURL=headers.js.map","dts":{"name":"F:/code_gitee/f-voied-axios/dist/types/tools/headers.d.ts","writeByteOrderMark":false,"text":"import { Method } from '../types';\r\nexport declare function processHeaders(headers: any, data: any): any;\r\nexport declare function parseHeaders(headers: string): any;\r\nexport declare function flattenHeaders(headers: any, method: Method): any;\r\n"}}
